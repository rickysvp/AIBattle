## 📋 开发计划

### 阶段一：类型定义和状态管理
1. **更新 types/index.ts**
   - 添加 LiquidityPool, LiquidityStake 类型
   - 添加 PredictionMarket, PredictionBet 类型
   - 添加 AutoBetRule 类型

2. **更新 store/gameStore.ts**
   - 添加流动性池状态 (totalStaked, totalRewards, apr, rewardRate)
   - 添加用户质押列表 (userStakes)
   - 添加预测市场列表 (predictionMarkets)
   - 添加用户预测列表 (userPredictions)
   - 实现 stakeLiquidity, unstakeLiquidity, claimLiquidityRewards 方法
   - 实现 placePredictionBet, settlePredictionMarket 方法
   - 实现自动下注逻辑

### 阶段二：页面开发
3. **创建 pages/LiquidityMining.tsx**
   - 统计卡片：总质押量、累计收益、APR、质押人数
   - 质押操作区：金额输入、质押按钮、可用余额
   - 我的质押列表：质押金额、质押时间、累计收益、解锁时间、解质押按钮
   - 收益说明卡片

4. **创建 pages/PredictionMarket.tsx**
   - 当前联赛预测区：联赛状态、预测类型切换、可预测选手列表
   - 我的预测列表：预测类型、下注金额、赔率、状态、潜在收益
   - 自动下注设置面板
   - 预测规则说明

### 阶段三：导航和路由
5. **更新 components/TabBar.tsx**
   - 添加 Earn (流动性挖矿) tab
   - 添加 Predict (预测市场) tab
   - 调整现有tab布局为6个

6. **更新 App.tsx**
   - 添加 /earn 路由
   - 添加 /predict 路由

### 阶段四：国际化
7. **更新 i18n/locales/en-US.json 和 zh-CN.json**
   - 添加 liquidity 命名空间
   - 添加 prediction 命名空间

### 阶段五：锦标赛结构优化
8. **更新锦标赛逻辑**
   - 调整现有锦标赛支持8进4结构
   - 添加预测市场触发点（8进4后开启预测）

## 🔧 业务逻辑细节

### 流动性挖矿
- **锁仓期**: 7天，提前解质押扣除20%本金作为惩罚
- **APR计算**: 动态调整，基于总质押量反向计算（质押越多APR越低）
- **收益来源**: Agent创建费50% + 锦标赛报名费10% + 平台手续费
- **收益公式**: 每秒收益 = 质押金额 × (APR / 365 / 24 / 60 / 60)

### 预测市场
- **预测类型**: 
  - 冠军预测 (final): 8进4后开启，赔率 2.0x - 5.0x
  - 四强预测 (semifinal): 8进4后开启，赔率 1.5x - 2.5x
  - 单场预测 (match): 每场比赛前开启，赔率 1.8x - 2.2x
- **赔率机制**: 动态调整，odds = 总奖池 / 该选手下注量 × 0.95
- **自动下注**: 可设置规则，系统自动执行

## 📁 文件变更清单
- `src/types/index.ts` - 新增类型
- `src/store/gameStore.ts` - 新增状态和方法
- `src/pages/LiquidityMining.tsx` - 新页面
- `src/pages/PredictionMarket.tsx` - 新页面
- `src/components/TabBar.tsx` - 新增2个tab
- `src/App.tsx` - 新增路由
- `src/i18n/locales/en-US.json` - 新增翻译
- `src/i18n/locales/zh-CN.json` - 新增翻译

请确认这个计划后，我将开始逐步实现。